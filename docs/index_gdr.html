<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>index_gdr</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./flavicon.jpeg" rel="icon" type="image/jpeg">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Accueil</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./index_gdr.html" aria-current="page"> 
<span class="menu-text">Daily Story</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About Me</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Summary</h2>
   
  <ul>
  <li><a href="#the-prediction-risk" id="toc-the-prediction-risk" class="nav-link active" data-scroll-target="#the-prediction-risk">The prediction risk</a></li>
  <li><a href="#observed-default-rate-odr" id="toc-observed-default-rate-odr" class="nav-link" data-scroll-target="#observed-default-rate-odr">Observed Default Rate (ODR)</a></li>
  <li><a href="#model-selection" id="toc-model-selection" class="nav-link" data-scroll-target="#model-selection">Model Selection</a></li>
  <li><a href="#the-adulterous-woman" id="toc-the-adulterous-woman" class="nav-link" data-scroll-target="#the-adulterous-woman">The adulterous woman</a></li>
  <li><a href="#isaac-asimovs-three-laws-of-robotics" id="toc-isaac-asimovs-three-laws-of-robotics" class="nav-link" data-scroll-target="#isaac-asimovs-three-laws-of-robotics">Isaac Asimov’s “Three Laws of Robotics”</a></li>
  <li><a href="#density-probability-function-using-plotly" id="toc-density-probability-function-using-plotly" class="nav-link" data-scroll-target="#density-probability-function-using-plotly">Density probability function using plotly</a></li>
  <li><a href="#exploring-variable-relationships-in-python" id="toc-exploring-variable-relationships-in-python" class="nav-link" data-scroll-target="#exploring-variable-relationships-in-python">Exploring Variable Relationships in Python</a></li>
  <li><a href="#spearman-correlation-matrix" id="toc-spearman-correlation-matrix" class="nav-link" data-scroll-target="#spearman-correlation-matrix">Spearman Correlation Matrix</a>
  <ul class="collapse">
  <li><a href="#when-several-variables-are-correlated" id="toc-when-several-variables-are-correlated" class="nav-link" data-scroll-target="#when-several-variables-are-correlated">When several variables are correlated</a></li>
  </ul></li>
  <li><a href="#variance-inflation-factor-vif-for-selected-variables-after-standardization" id="toc-variance-inflation-factor-vif-for-selected-variables-after-standardization" class="nav-link" data-scroll-target="#variance-inflation-factor-vif-for-selected-variables-after-standardization">Variance Inflation Factor (VIF) for selected variables after standardization</a>
  <ul class="collapse">
  <li><a href="#fit-a-linear-regression-model-on-a-six-variables-after-standardization-not-split-data-into-train-and-test" id="toc-fit-a-linear-regression-model-on-a-six-variables-after-standardization-not-split-data-into-train-and-test" class="nav-link" data-scroll-target="#fit-a-linear-regression-model-on-a-six-variables-after-standardization-not-split-data-into-train-and-test">Fit a linear regression model on a six variables after standardization not split data into train and test</a></li>
  <li><a href="#dont-trust-chatgpt" id="toc-dont-trust-chatgpt" class="nav-link" data-scroll-target="#dont-trust-chatgpt">Don’t Trust ChatGPT</a></li>
  <li><a href="#sports-bring-us-together" id="toc-sports-bring-us-together" class="nav-link" data-scroll-target="#sports-bring-us-together">Sports Bring Us Together</a></li>
  <li><a href="#why-certain-couples-marry-and-others-do-not" id="toc-why-certain-couples-marry-and-others-do-not" class="nav-link" data-scroll-target="#why-certain-couples-marry-and-others-do-not">Why certain couples marry and others do not?</a></li>
  <li><a href="#regression-to-the-mean" id="toc-regression-to-the-mean" class="nav-link" data-scroll-target="#regression-to-the-mean">Regression to the mean</a></li>
  <li><a href="#should-you-invest-save-or-keep-your-money-under-the-mattress" id="toc-should-you-invest-save-or-keep-your-money-under-the-mattress" class="nav-link" data-scroll-target="#should-you-invest-save-or-keep-your-money-under-the-mattress">Should You Invest, Save, or Keep Your Money Under the Mattress?</a></li>
  <li><a href="#how-can-we-choose-to-modeling-time-series-using-ardl" id="toc-how-can-we-choose-to-modeling-time-series-using-ardl" class="nav-link" data-scroll-target="#how-can-we-choose-to-modeling-time-series-using-ardl">How can we choose to modeling time series using ARDL?</a></li>
  <li><a href="#what-drives-stock-prices" id="toc-what-drives-stock-prices" class="nav-link" data-scroll-target="#what-drives-stock-prices">What drives stock prices?</a></li>
  <li><a href="#we-are-champions-the-champions-the-first-trophy-of-harry-kane-in-his-career." id="toc-we-are-champions-the-champions-the-first-trophy-of-harry-kane-in-his-career." class="nav-link" data-scroll-target="#we-are-champions-the-champions-the-first-trophy-of-harry-kane-in-his-career.">We are champions the champions : The first trophy of Harry Kane in his career.</a></li>
  <li><a href="#warren-buffett-retires-at-94" id="toc-warren-buffett-retires-at-94" class="nav-link" data-scroll-target="#warren-buffett-retires-at-94">Warren Buffett retires at 94</a></li>
  <li><a href="#diagnostic-de-performance-énergétique-dpe" id="toc-diagnostic-de-performance-énergétique-dpe" class="nav-link" data-scroll-target="#diagnostic-de-performance-énergétique-dpe">Diagnostic de performance énergétique (DPE)</a></li>
  <li><a href="#aimé-césaire-inspired-by-the-bible" id="toc-aimé-césaire-inspired-by-the-bible" class="nav-link" data-scroll-target="#aimé-césaire-inspired-by-the-bible">Aimé Césaire inspired by the Bible</a></li>
  <li><a href="#la-clé-lamine-yamal" id="toc-la-clé-lamine-yamal" class="nav-link" data-scroll-target="#la-clé-lamine-yamal">La clé Lamine Yamal</a></li>
  <li><a href="#le-livre-des-réponses" id="toc-le-livre-des-réponses" class="nav-link" data-scroll-target="#le-livre-des-réponses">Le livre des réponses</a></li>
  <li><a href="#categories" id="toc-categories" class="nav-link" data-scroll-target="#categories">Categories</a></li>
  <li><a href="#what-evokes-you-the-100-days-of-donald-trump" id="toc-what-evokes-you-the-100-days-of-donald-trump" class="nav-link" data-scroll-target="#what-evokes-you-the-100-days-of-donald-trump">What evokes you the 100 days of Donald Trump?</a></li>
  <li><a href="#la-puissance-de-la-parole." id="toc-la-puissance-de-la-parole." class="nav-link" data-scroll-target="#la-puissance-de-la-parole.">La puissance de la parole.</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<div class="box">
<p>Compte tenu de ma spécialisation en gestion des risques, les contenus que je prévois de partager dans cette section dédiée à la 3ème année (3A) porteront principalement sur les enseignements spécifiques à cette spécialisation. Je m’efforcerai de rendre ces partages aussi pertinents et enrichissants que possible, en espérant qu’ils serviront de guide précieux pour ceux qui suivront une voie similaire.</p>
</div>
<section id="the-prediction-risk" class="level2">
<h2 class="anchored" data-anchor-id="the-prediction-risk">The prediction risk</h2>
<p>The risk prediction is the expected loss between the predicted value and the true value on new, unseen data. In formula form, it can be expressed as: <span class="math display">\[
\text{R(X)} = \mathbb{E}[(Y - \hat{Y})^2] = \mathbb{E}[(Y - \mathbb{text{E}}(Y|X))^2]
\]</span> where <span class="math inline">\(Y\)</span> is the true value, <span class="math inline">\(\hat{Y}\)</span> is the predicted value, and <span class="math inline">\(X\)</span> is the set of covariates used for prediction.</p>
<div class="byline">
<p><span class="date">May 28, 2025</span></p>
</div>
</section>
<section id="observed-default-rate-odr" class="level2">
<h2 class="anchored" data-anchor-id="observed-default-rate-odr">Observed Default Rate (ODR)</h2>
<p>How can we estimate the observed default rate (ODR) of a portfolio of loans?</p>
<p>This is example of a database where we want to estimate the ODR and the yearly ODR as the the average of the quarterly ODRs.</p>
<div id="73eb0b36" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Étape 1 : Création de la table "frequentist_PD"</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Simulons 6 trimestres de données pour 2 clusters (A et B)</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>clusters <span class="op">=</span> [<span class="st">'A'</span>] <span class="op">*</span> <span class="dv">6</span> <span class="op">+</span> [<span class="st">'B'</span>] <span class="op">*</span> <span class="dv">6</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>dates <span class="op">=</span> pd.date_range(<span class="st">'2020-01-01'</span>, periods<span class="op">=</span><span class="dv">6</span>, freq<span class="op">=</span><span class="st">'QE'</span>).tolist() <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>odrQ <span class="op">=</span> [<span class="fl">0.020</span>, <span class="fl">0.025</span>, <span class="fl">0.030</span>, <span class="fl">0.028</span>, <span class="fl">0.027</span>, <span class="fl">0.029</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        <span class="fl">0.030</span>, <span class="fl">0.032</span>, <span class="fl">0.031</span>, <span class="fl">0.033</span>, <span class="fl">0.035</span>, <span class="fl">0.034</span>]</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>frequentist_PD <span class="op">=</span> pd.DataFrame({</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'cluster'</span>: clusters,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'hpm_arret'</span>: dates,</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'odrQ'</span>: odrQ</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co"># On ajoute des colonnes d'index pour simuler "obs"</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>frequentist_PD[<span class="st">'obs'</span>] <span class="op">=</span> frequentist_PD.groupby(<span class="st">'cluster'</span>).cumcount()</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="co"># On trie pour garantir l'ordre temporel par cluster</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>frequentist_PD <span class="op">=</span> frequentist_PD.sort_values([<span class="st">'cluster'</span>, <span class="st">'hpm_arret'</span>]).reset_index(drop<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>frequentist_PD</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">cluster</th>
<th data-quarto-table-cell-role="th">hpm_arret</th>
<th data-quarto-table-cell-role="th">odrQ</th>
<th data-quarto-table-cell-role="th">obs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>A</td>
<td>2020-03-31</td>
<td>0.020</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>A</td>
<td>2020-06-30</td>
<td>0.025</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>A</td>
<td>2020-09-30</td>
<td>0.030</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>A</td>
<td>2020-12-31</td>
<td>0.028</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>A</td>
<td>2021-03-31</td>
<td>0.027</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>A</td>
<td>2021-06-30</td>
<td>0.029</td>
<td>5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>B</td>
<td>2020-03-31</td>
<td>0.030</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>B</td>
<td>2020-06-30</td>
<td>0.032</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>B</td>
<td>2020-09-30</td>
<td>0.031</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>B</td>
<td>2020-12-31</td>
<td>0.033</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>B</td>
<td>2021-03-31</td>
<td>0.035</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>B</td>
<td>2021-06-30</td>
<td>0.034</td>
<td>5</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="e77011d2" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Étape 2 : Simuler les frequentist_PD_2_j (décalages pour j = i+1, i = 1, 2, 3)</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># On crée un dictionnaire pour stocker les décalages</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>frequentist_PD_2 <span class="op">=</span> {}</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># On prépare une copie de base à laquelle on ajoutera les colonnes décalées</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>base <span class="op">=</span> frequentist_PD.copy()</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Pour chaque i (1 to 3), on génère le j = i + 1 et on décale les colonnes</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">4</span>):</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    j <span class="op">=</span> i <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    shifted <span class="op">=</span> base.copy()</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    shifted[<span class="st">'obs'</span>] <span class="op">=</span> shifted[<span class="st">'obs'</span>] <span class="op">-</span> i  <span class="co"># décale l'observation comme point=obs+i en SAS</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    shifted <span class="op">=</span> shifted.rename(columns<span class="op">=</span>{</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">'cluster'</span>: <span class="ss">f'cluster</span><span class="sc">{</span>j<span class="sc">}</span><span class="ss">'</span>,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">'hpm_arret'</span>: <span class="ss">f'hpm_arret</span><span class="sc">{</span>j<span class="sc">}</span><span class="ss">'</span>,</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">'odrQ'</span>: <span class="ss">f'odrQ</span><span class="sc">{</span>j<span class="sc">}</span><span class="ss">'</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    frequentist_PD_2[j] <span class="op">=</span> shifted[[<span class="st">'obs'</span>, <span class="ss">f'cluster</span><span class="sc">{</span>j<span class="sc">}</span><span class="ss">'</span>, <span class="ss">f'hpm_arret</span><span class="sc">{</span>j<span class="sc">}</span><span class="ss">'</span>, <span class="ss">f'odrQ</span><span class="sc">{</span>j<span class="sc">}</span><span class="ss">'</span>]]</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="co"># On merge progressivement pour simuler les frequentist_PD_3_j</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>merged <span class="op">=</span> base.copy()</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>, <span class="dv">5</span>):</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    merged <span class="op">=</span> pd.merge(merged, frequentist_PD_2[j], on<span class="op">=</span><span class="st">'obs'</span>, how<span class="op">=</span><span class="st">'left'</span>)</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>merged</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">cluster</th>
<th data-quarto-table-cell-role="th">hpm_arret</th>
<th data-quarto-table-cell-role="th">odrQ</th>
<th data-quarto-table-cell-role="th">obs</th>
<th data-quarto-table-cell-role="th">cluster2</th>
<th data-quarto-table-cell-role="th">hpm_arret2</th>
<th data-quarto-table-cell-role="th">odrQ2</th>
<th data-quarto-table-cell-role="th">cluster3</th>
<th data-quarto-table-cell-role="th">hpm_arret3</th>
<th data-quarto-table-cell-role="th">odrQ3</th>
<th data-quarto-table-cell-role="th">cluster4</th>
<th data-quarto-table-cell-role="th">hpm_arret4</th>
<th data-quarto-table-cell-role="th">odrQ4</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>A</td>
<td>2020-03-31</td>
<td>0.020</td>
<td>0</td>
<td>A</td>
<td>2020-06-30</td>
<td>0.025</td>
<td>A</td>
<td>2020-09-30</td>
<td>0.030</td>
<td>A</td>
<td>2020-12-31</td>
<td>0.028</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>A</td>
<td>2020-03-31</td>
<td>0.020</td>
<td>0</td>
<td>A</td>
<td>2020-06-30</td>
<td>0.025</td>
<td>A</td>
<td>2020-09-30</td>
<td>0.030</td>
<td>B</td>
<td>2020-12-31</td>
<td>0.033</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>A</td>
<td>2020-03-31</td>
<td>0.020</td>
<td>0</td>
<td>A</td>
<td>2020-06-30</td>
<td>0.025</td>
<td>B</td>
<td>2020-09-30</td>
<td>0.031</td>
<td>A</td>
<td>2020-12-31</td>
<td>0.028</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>A</td>
<td>2020-03-31</td>
<td>0.020</td>
<td>0</td>
<td>A</td>
<td>2020-06-30</td>
<td>0.025</td>
<td>B</td>
<td>2020-09-30</td>
<td>0.031</td>
<td>B</td>
<td>2020-12-31</td>
<td>0.033</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>A</td>
<td>2020-03-31</td>
<td>0.020</td>
<td>0</td>
<td>B</td>
<td>2020-06-30</td>
<td>0.032</td>
<td>A</td>
<td>2020-09-30</td>
<td>0.030</td>
<td>A</td>
<td>2020-12-31</td>
<td>0.028</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">57</td>
<td>B</td>
<td>2020-12-31</td>
<td>0.033</td>
<td>3</td>
<td>B</td>
<td>2021-03-31</td>
<td>0.035</td>
<td>A</td>
<td>2021-06-30</td>
<td>0.029</td>
<td>NaN</td>
<td>NaT</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">58</td>
<td>B</td>
<td>2020-12-31</td>
<td>0.033</td>
<td>3</td>
<td>B</td>
<td>2021-03-31</td>
<td>0.035</td>
<td>B</td>
<td>2021-06-30</td>
<td>0.034</td>
<td>NaN</td>
<td>NaT</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">59</td>
<td>B</td>
<td>2021-03-31</td>
<td>0.035</td>
<td>4</td>
<td>A</td>
<td>2021-06-30</td>
<td>0.029</td>
<td>NaN</td>
<td>NaT</td>
<td>NaN</td>
<td>NaN</td>
<td>NaT</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">60</td>
<td>B</td>
<td>2021-03-31</td>
<td>0.035</td>
<td>4</td>
<td>B</td>
<td>2021-06-30</td>
<td>0.034</td>
<td>NaN</td>
<td>NaT</td>
<td>NaN</td>
<td>NaN</td>
<td>NaT</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">61</td>
<td>B</td>
<td>2021-06-30</td>
<td>0.034</td>
<td>5</td>
<td>NaN</td>
<td>NaT</td>
<td>NaN</td>
<td>NaN</td>
<td>NaT</td>
<td>NaN</td>
<td>NaN</td>
<td>NaT</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>62 rows × 13 columns</p>
</div>
</div>
</div>
<p>The SAS script is given below:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>%macro test1;</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  %do i=1 %to 3 %by 1;</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    %let j = %sysevalf(&amp;i.+1);</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    /* Crée une table contenant les colonnes odrQ décalées */</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    data frequentist_PD_2_&amp;j.;</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>      obs1 = 1;</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>      do while (obs1 &lt; nobs);</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>        set frequentist_PD nobs=nobs;</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        obs&amp;j. = obs1 + &amp;i.;</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        set frequentist_PD (</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>          rename=(</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>            cluster=cluster&amp;j.</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>            lb=lb&amp;j.</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>            ub=ub&amp;j.</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>            hpm_arret=hpm_arret&amp;j.</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>            def=defQ&amp;j.</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>            n=nQ&amp;j.</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>            odrQ=odrQ&amp;j.</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>        ) point=obs&amp;j.;</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>        output;</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>        keep cluster lb ub hpm_arret def defQ&amp;j. n nQ&amp;j. odrQ odrQ&amp;j.;</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>        obs1 + 1;</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>      end;</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    run;</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>    /* Initialisation au premier tour */</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    %if &amp;i. = 1 %then %do;</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>      data frequentist_PD_3_&amp;j.;</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>        set frequentist_PD_2_&amp;j.;</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>      run;</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    %end;</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>    /* Jointure gauche avec la table précédente pour empiler les odrQ */</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>    %else %do;</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>      proc sql;</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>        create table frequentist_PD_3_&amp;j. as</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>        select a.*,</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>               b.defQ&amp;j.,</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>               b.nQ&amp;j.,</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>               b.odrQ&amp;j.</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>        from frequentist_PD_3_&amp;i. as a</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>        left join frequentist_PD_2_&amp;j. as b</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>          on a.cluster = b.cluster</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>          and a.hpm_arret = b.hpm_arret;</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>      quit;</span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>    %end;</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>  %end;</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>  /* Résultat final : table contenant odrQ, odrQ2, odrQ3, odrQ4 */</span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>  data frequentist_PD_4;</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>    set frequentist_PD_3_&amp;j.;</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>    /* Calcul du ODR annuel glissant comme moyenne des 4 trimestres */</span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a>    odrY = mean(of odrQ odrQ2 odrQ3 odrQ4);</span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a>  run;</span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a>  /* Décale hpm_arret de 9 mois (équivalent intnx) */</span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a>  data frequentist_PD_4;</span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a>    set frequentist_PD_4;</span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>    hpm_arret = intnx('month', hpm_arret, 9, 'same');</span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a>    if year(hpm_arret) = 2019 then delete; /* Exclusion des années trop anciennes */</span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a>  run;</span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a>  /* Sauvegarde finale */</span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>  data frequentist_PD_5;</span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a>    set frequentist_PD_4;</span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a>  run;</span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a>%mend;</span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a>/* Exécution de la macro */</span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a>%test1;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class=".byline">
<p><span class="date">May 27, 2025</span></p>
</div>
</section>
<section id="model-selection" class="level2">
<h2 class="anchored" data-anchor-id="model-selection">Model Selection</h2>
<p>We have a data with many covariates. But we want to include only the covariates that are relevant to the response variable. This allows us to have a parsimonious model, with fewer covariates, which is easier to interpret and to use for prediction.</p>
<p>Generally, when we add more covariates to a model, the bias of the model decreases, but the variance increases.</p>
<div class="byline">
<p><span class="date">May 26, 2025</span></p>
</div>
</section>
<section id="the-adulterous-woman" class="level2">
<h2 class="anchored" data-anchor-id="the-adulterous-woman">The adulterous woman</h2>
<p>A woman was caught in adultery. The Pharisees brought her to Jesus and asked him what should be done with her. They said that according the law of Moses, she should be stoned to death. Jesus replied, “Let anyone among you who is without sin be the first to throw a stone at her.”</p>
<p>I like this story because it shows that Jesus is a feminist.</p>
<div class="byline">
<p><span class="date">May 25, 2025</span></p>
</div>
</section>
<section id="isaac-asimovs-three-laws-of-robotics" class="level2">
<h2 class="anchored" data-anchor-id="isaac-asimovs-three-laws-of-robotics">Isaac Asimov’s “Three Laws of Robotics”</h2>
<ol type="1">
<li><p>A robot may not injure a human being or, through inaction, allow a human being to come to harm.</p></li>
<li><p>A robot must obey the orders given it by human beings except where such orders would conflict with the First Law.</p></li>
<li><p>A robot must protect its own existence as long as such protection does not conflict with the First or Second Law.</p></li>
</ol>
<div class="byline">
<p><span class="date">May 24, 2025</span></p>
</div>
</section>
<section id="density-probability-function-using-plotly" class="level2">
<h2 class="anchored" data-anchor-id="density-probability-function-using-plotly">Density probability function using plotly</h2>
<div id="db20c9f7" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Simuler les données</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'2012'</span>: np.random.randn(<span class="dv">200</span>),</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'2013'</span>: np.random.randn(<span class="dv">200</span>) <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculer les statistiques</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>stats_df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'min'</span>: df.<span class="bu">min</span>(),</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'mean'</span>: df.mean(),</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'median'</span>: df.median(),</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'max'</span>: df.<span class="bu">max</span>(),</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'std'</span>: df.std()</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Affichage</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(stats_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           min     mean    median       max       std
2012 -2.399943  0.07926  0.075151  2.206767  0.880948
2013 -1.076208  1.02229  0.963917  3.607347  0.920831</code></pre>
</div>
</div>
<div id="0f4e7f88" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Simuler les données</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'2012'</span>: np.random.randn(<span class="dv">200</span>),</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'2013'</span>: np.random.randn(<span class="dv">200</span>) <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir au format long</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>df_long <span class="op">=</span> df.melt(var_name<span class="op">=</span><span class="st">'Year'</span>, value_name<span class="op">=</span><span class="st">'Value'</span>)</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Créer le boxplot</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.box(df_long, x<span class="op">=</span><span class="st">'Year'</span>, y<span class="op">=</span><span class="st">'Value'</span>, points<span class="op">=</span><span class="va">False</span>, title<span class="op">=</span><span class="st">"Boxplot for 2012 and 2013"</span>, color<span class="op">=</span><span class="st">'Year'</span>,</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>             labels<span class="op">=</span>{<span class="st">'Year'</span>: <span class="st">'Year'</span>, <span class="st">'Value'</span>: <span class="st">'Values'</span>})</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        </script>
        <script type="module">import "https://cdn.plot.ly/plotly-3.0.1.min"</script>
        
</div>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script>                <div id="e7fd0754-c331-4b74-96cb-354c8c5b68cf" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("e7fd0754-c331-4b74-96cb-354c8c5b68cf")) {                    Plotly.newPlot(                        "e7fd0754-c331-4b74-96cb-354c8c5b68cf",                        [{"alignmentgroup":"True","boxpoints":false,"hovertemplate":"Year=%{x}\u003cbr\u003eValues=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"2012","marker":{"color":"#636efa"},"name":"2012","notched":false,"offsetgroup":"2012","orientation":"v","showlegend":true,"x":["2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012","2012"],"x0":" ","xaxis":"x","y":{"dtype":"f8","bdata":"mJpfQqFM8z\u002fhgy1dROjwP2I1vg4\u002fgeG\u002ffsXPbzoa7D+DrDQspIi\u002fv\u002fMpuViI5\u002fA\u002fs31n3sg\u002f9j95xl5KgGPtv1lq0ZXPGOc\u002f3o7cdpnP57\u002fw3RtWYva7vyx62YAG3\u002fO\u002f\u002fVc92gFk2D9BzhjS9G3BvwJ\u002fKbkvWd4\u002fqPTrCFHo978tluGTAkrtv++nizKYNgHAXd8nLK6l8b8l8ATd+KUAQD4+Vbf3f94\u002ffOKF5Oz\u002f8r8Cr+FtA8\u002f0P6T27DFkIsm\u002f7gHhERTw1b9lQmNrY4zQP7rQEeExEOk\u002fsGQ5U2R73j+6PNmD\u002fsjev1fYaoF9eNg\u002fX665QRUZ8r+bMx4cxr7vvzfylNreHsc\u002fVNm3ShXC3D9lfgs8Ydr6v7mY4uUVP9i\u002fMbu0bWIi8b82Eqr0FOScv+2AeW6Cq7i\u002fcJelssAS7b\u002fDh4rBvCDeP3pAHT\u002ffiwPAY27vyX09BkBSE8aIiX76v5gX04XXg+Q\u002fDL8hl6Il5r+Zrk+fwXjkv7oAaH5DJ+8\u002f1T2n\u002fPvZ7j8fQcHzj2zpP+dsxFTDHN6\u002fLLP2nRAj6z83sIvxg0\u002favzkVonJ2yPu\u002fQGoVfmDu9b\u002f46cdz18YEwLUw0WqBKdY\u002fNtBB\u002f4VS0b+a8yee8GPkP\u002fc6M9tVD\u002fq\u002fpwgjY4IE6D+U5Lc5S333PyaQ5mnOgtq\u002f03D2L\u002f84879vw\u002fCTIPTavzn36+h87PA\u002fYShqhAfJ5j\u002f47bmsSLrdP2XmY0CLDvu\u002f83SNnxsl7T+rQRr17yH4PzRfnf4rKbC\u002fdhE6DIKc+j\u002f0+gHfvh\u002frv4Zqp9rvhAFAzyV+K4jDzb9s2BwhilVavzorWe\u002fXo5m\u002f2w5hQvs977+z4No8iLq9P8RzE523v\u002fo\u002fJGeBX0sy87+86GO40O7uP8rCWUQYWu+\u002faR4qHCls\u002fD8VR13P9sT0v8jWuTUQbvI\u002fyheVmHVq5b9C3UxAsWHqv+y03LuR6v+\u002f\u002fEnENqI5xD90MJRhJx0CQFj\u002fgjIQaOU\u002f37jrgpx63b8g2BHAqi7oP9WgfjXcmNq\u002fWuMSCL21478410G6GPGwv04O2UCRzvU\u002fPAJXlWlp5T8R2BeoPDntv6kou13xdOO\u002ftmpgoe3x6T+js15q2RncPw073u02ePi\u002fvxcaK1iM7T9wiEqz5N7vv7A13Ct3SfE\u002fHqy5pIYvoz\u002fBtIJ1gguoP0cL5igwFMC\u002fFMi5oxUqzb\u002f8j\u002fA55y\u002fYvwGMBrucXfI\u002fXErY7n2+w79C6jxUme\u002fhvwQlN+AAweq\u002fSUtOwNvx4b\u002fwhVcB+Zz6Pzj5u5h9g+2\u002fnDAJhkRgtT8iuzEBPjLkP4V2+rkGGcM\u002f\u002fgN7pI8yuT97x\u002f1L8ZXSv9lu04hFrdK\u002fkHQjfUAN77+np0r1aID6vxkGnDK\u002fcu6\u002fWx4YCTn29j97Oig+TeP0P38glQWSpOk\u002fxPleVBhCxT+n5y6vWbLcv21S6TN4h+W\u002frxYgpC292r\u002f4sTRk3j\u002foP6pSsEwrLPg\u002fWCTn9UCp8r9aPv1Cjgaev8ieAq3Xbc8\u002fScdheDeaoT+0TxOet\u002fDlvyhb+wMlA7q\u002fAQ7R+utK5j\u002fPoUOvdMLmP3OlvyeHU+m\u002fioRogfuY3b+Aw7w1sNbOPx4ohp4nhcS\u002fvL+V0QEb8z8RU2DdK5Xev24g5qAge6E\u002fzFHo9ueD8r9BltR\u002fgOPRv8xcF4eCMt2\u002fH\u002fRYNXJP0T9MN3xDMZHNP+CaNCmtVeg\u002fKQQM1cPQ8D+UzFdLP93xv\u002fsaQwBFYuI\u002fR9fdi9mx8b\u002fvp5p\u002fTvbtv7hwBztmqNE\u002fqZTVh2Ub5j8eI59eAmXzv1vTvgoCNPC\u002fa\u002f3TWnJ6879njfTFtXXCP\u002fPRVvXU2eu\u002foVjD0JwG6b+odRhhs4nxvy5CIeSi9\u002fO\u002fA9BRnAqQ7D9t25LJYtDov9lh6qpgTfQ\u002fvgy6eLj30r8NqJY+xf7QP\u002fFFuu0mdvs\u002fp8CwLn+72T88NRd1CKIFwOYXuM5pSd6\u002fgwIOW6DK8T8ppsqgDaDgP6XSzjwG3+A\u002fmk11z9od+T+A\u002fxJGKl\u002f3v+B36GFX79G\u002fqTjDhDpJir\u002fmpiR57\u002fDnPyUyckjSpNO\u002fEnhXidmY1z\u002fn4XYpNcHwP\u002fmyUl9vy\u002fc\u002fBJIs0aSsBkBeU0VkuLvpP5CsuLc33f6\u002fvnV5zg\u002fc1L9EdO3h8Vbwvw=="},"y0":" ","yaxis":"y","type":"box"},{"alignmentgroup":"True","boxpoints":false,"hovertemplate":"Year=%{x}\u003cbr\u003eValues=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"2013","marker":{"color":"#EF553B"},"name":"2013","notched":false,"offsetgroup":"2013","orientation":"v","showlegend":true,"x":["2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013","2013"],"x0":" ","xaxis":"x","y":{"dtype":"f8","bdata":"5dn7eDc86z\u002fnXbVf4cDvP6ad0puZS\u002fA\u002fzO4AjM6U6r\u002fks3wv9eX8P6ucADRi5ug\u002fAGYY1EzQnb9b7sSD1Yz4P2IhdM4YD\u002fk\u002fDE\u002f3fbTU8T\u002f2dCLr0JrbP\u002fwyJ7TVUdy\u002fipbesqJd8j+4+LWEuAzoPw67gPZH9vM\u002fpEXr0IVXyz9+AaEsm5zuv6hIKjcObfc\u002foqTG0WwQ9j+8T+xCsIXoPzOucx6SDQVAeI9vHbH+yT\u002f9xL9q480AQJQgZm19E8Y\u002f8ZZut5pY\u002fz8bKDqPuscOQMjazGWjUtO\u002fWVqmP+m47j+MUXgCfMPdP3xN9KtpbfQ\u002fEvKjKIKf+D9gvYkINV6lv9cqEsMMfec\u002f9vBsDkxm\u002fD+os7Lv3ljoP1TCr3ohkf8\u002fJkprkanQ5j8w6VMnFlfVPyfrvkMT2vE\u002fqZrRHvFR8T88C475pbzYv3m14W+VV+U\u002fFH+d5Y190b8g2LDsCwy1P8JBybEElfw\u002fAAs63a8jqT9gOaHUwasEQLDlVZKRvOe\u002fDM9fD1FjzD905AmkqQvGP0gGBfCfrf8\u002fuQvxFp7G8j+u++tAzxwFQD6ZCtORnAVAuJejEo0U6L+CYRgF96\u002f6P6Ys2U2W8N4\u002fMUfhAAwU8z\u002fwHcUVmu7Lv++tVwxdtARAVDQfNNt96D8iWr0JPOAAQLoCokQwaPg\u002fA+s\u002fivqo7D9MOOPnNO3Yv2Jcq93PA+Q\u002fTEglusgq\u002fD8QITLHSUPBv9rKMPQ9Nto\u002fhmX5OvLD+T\u002fsArDYiB\u002f6P3TeKWQ\u002f6sg\u002fA9htatZ88j9o6vEbDLTgPz81f57vPu0\u002f3M9iWAoh6T+cvk8pWZ7pvxTqg3UnUsM\u002ffGOytWfU\u002fT9Ol90SI9kCQHhBglAaL8q\u002f6LKkUYVq6T\u002fYEOjl62\u002fYP3qTk6BlFeY\u002fk6qMd7Z05j8CgsfmvaLuv2HpKl3YPv0\u002f6gDIg6xXBEAGWWsgWKrqP+jn\u002f9zCMQRAcKsRGoGUvj\u002fwbolLgXzGP4C2CYs6rds\u002fEiHwC\u002f7B7T8y+xWIVjjjP3Bt\u002f+G6S6E\u002fOKtUlPJUxD\u002f6Q995vPnUP3gwb7pzqtU\u002f5NSVNddt\u002fz8uayyfbDbcP8gsxva6\u002feA\u002ffgE3A4tR0j8AHNknZwaTv\u002faUPSbND+4\u002fVKefVcHpA0BuhF1wYoDqP\u002fFl2WmFmvA\u002fyr+olQV24r\u002fIwpv3GPjfPxhD45cjXsO\u002fqO6Fs1kE7T9UuuAyFF\u002fUv2jpjzKTfee\u002fgdHSKPXb9T+CT57Dm8f0PzV0N2DC0uk\u002f4Devj1\u002floT+rEjTH4533P9P6NrPA3PI\u002fwH2tqAt54z9BUz9TAYH0P2zD9q6Acf0\u002fwlJvDSIn3D8+TIgA6tzSPwLZr8GgZ+U\u002fDX2QG3Xt9D+WgPyUxnPrPwRYtftmWOg\u002fvJoo23Ac37+8UpnnSBbxP\u002fClXun6EOk\u002f0E\u002fsqwn3+j+yYu4EYeHzPzLNeI5Ua++\u002fLow0BqKG\u002fD9RoFx+cwr1P9CWLbfHm9q\u002f0MZTACTz+j8DQ07HqGL1P+OHmGXSHP8\u002f4hQtnYw50j8np4OharDzP5DdxRtdraU\u002fpAFjq\u002fcT+D+cEwPH4RXbv9S1KLQaLPM\u002fRIyYsK\u002f66z9dH2I2EBX1P8Tb4oCHdtg\u002fV9H0vRrB8j+9bHxZv\u002fT1Pz674x2Afec\u002fslhwZgwq5b+sJ4d2SDYCQNR9o4e0hOI\u002fg+Enwczw6D9Aw0hU9cWqv0JrbP4oZfS\u002fYk76670hAEBod+i2\u002fa7lP50ZMXtctQhAXlSvaePd+j+8Wb2I+1XsP0w5MzpPVwFAwIEPuTeO7j\u002f4xzWAO1\u002fxPx5ZhtIoJdM\u002f\u002f+XoBBVv9j\u002fm0ifcos8DQEJuUIhlbeQ\u002fmBWE1qfn+z9Wm15UC1X8PwDmqQZ6\u002fVk\u002fbJtX3BL37L\u002fAv5DXzBYCQC6IWSivqvc\u002f8tugv86mBkDpcB8ZXLwDQA6rVqJ7IvI\u002fJD8PB1dz3D8oL4xz\u002fo70PyBwd8wRMrO\u002fGP6QpUy34r+g4qd7O8riv3aStYhyxOG\u002fUBC4ep03AECanoj7C5nUP5DuKJzBou4\u002fEO4\u002fKA\u002fM7b9Sr3Jr1P79P\u002fAF2pjInf0\u002fH3VqrCq++D82uaHPG7\u002fwPxpIMrboQ9o\u002fEvsbpVE+6j98oEybjqjzP+DM0NdGlOO\u002fIDihkv0fqr8OOwjZLE\u002f3vw=="},"y0":" ","yaxis":"y","type":"box"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Year"},"categoryorder":"array","categoryarray":["2012","2013"]},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Values"}},"legend":{"title":{"text":"Year"},"tracegroupgap":0},"title":{"text":"Boxplot for 2012 and 2013"},"boxmode":"overlay"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('e7fd0754-c331-4b74-96cb-354c8c5b68cf');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
<div id="0343b529" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> gaussian_kde</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Example data (you can replace this with your real df["age"])</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>age <span class="op">=</span> np.array([<span class="dv">15</span>, <span class="dv">16</span>, <span class="dv">16</span>, <span class="dv">17</span>, <span class="dv">18</span>, <span class="dv">19</span>, <span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">22</span>, <span class="dv">22</span>, <span class="dv">23</span>, <span class="dv">24</span>, <span class="dv">25</span>, <span class="dv">25</span>, <span class="dv">26</span>, <span class="dv">27</span>, <span class="dv">28</span>])</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove NA if needed</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>age <span class="op">=</span> age[<span class="op">~</span>np.isnan(age)]</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co"># KDE estimate</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>kde <span class="op">=</span> gaussian_kde(age)</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Define range of x values</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>x_vals <span class="op">=</span> np.linspace(age.<span class="bu">min</span>(), age.<span class="bu">max</span>(), <span class="dv">200</span>)</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>y_vals <span class="op">=</span> kde(x_vals)</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot using Plotly</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>fig.add_trace(go.Scatter(x<span class="op">=</span>x_vals, y<span class="op">=</span>y_vals, mode<span class="op">=</span><span class="st">'lines'</span>, name<span class="op">=</span><span class="st">'Density'</span>, line<span class="op">=</span><span class="bu">dict</span>(width<span class="op">=</span><span class="dv">2</span>)))</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>fig.update_layout(title<span class="op">=</span><span class="st">"Density of age"</span>, xaxis_title<span class="op">=</span><span class="st">"Age"</span>, yaxis_title<span class="op">=</span><span class="st">"Density"</span>)</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script>                <div id="8727c745-2a0a-4f07-abe0-60d797abb6fc" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("8727c745-2a0a-4f07-abe0-60d797abb6fc")) {                    Plotly.newPlot(                        "8727c745-2a0a-4f07-abe0-60d797abb6fc",                        [{"line":{"width":2},"mode":"lines","name":"Density","x":{"dtype":"f8","bdata":"AAAAAAAALkCTAhJ+ciEuQCUFJPzkQi5AuAc2eldkLkBLCkj4yYUuQN0MWnY8py5AcA9s9K7ILkADEn5yIeouQJUUkPCTCy9AKBeibgYtL0C7GbTseE4vQE0cxmrrby9A4B7Y6F2RL0ByIepm0LIvQAUk\u002fORC1C9AmCYOY7X1L0CVFJDwkwswQN8VmS9NHDBAKBeibgYtMEBxGKutvz0wQLsZtOx4TjBABBu9KzJfMEBNHMZq628wQJcdz6mkgDBA4B7Y6F2RMEApIOEnF6IwQHIh6mbQsjBAvCLzpYnDMEAFJPzkQtQwQE4lBST85DBAmCYOY7X1MEDhJxeibgYxQCopIOEnFzFAdCopIOEnMUC9KzJfmjgxQAYtO55TSTFAUC5E3QxaMUCZL00cxmoxQOIwVlt\u002fezFALDJfmjiMMUB1M2jZ8ZwxQL40cRirrTFACDZ6V2S+MUBRN4OWHc8xQJo4jNXW3zFA5DmVFJDwMUAtO55TSQEyQHY8p5ICEjJAwD2w0bsiMkAJP7kQdTMyQFJAwk8uRDJAnEHLjudUMkDlQtTNoGUyQC5E3QxadjJAeEXmSxOHMkDBRu+KzJcyQApI+MmFqDJAVEkBCT+5MkCdSgpI+MkyQOZLE4ex2jJAME0cxmrrMkB5TiUFJPwyQMJPLkTdDDNADFE3g5YdM0BVUkDCTy4zQJ5TSQEJPzNA6FRSQMJPM0AxVlt\u002fe2AzQHpXZL40cTNAxFht\u002fe2BM0ANWnY8p5IzQFZbf3tgozNAoFyIuhm0M0DpXZH50sQzQDJfmjiM1TNAfGCjd0XmM0DFYay2\u002fvYzQA5jtfW3BzRAWGS+NHEYNEChZcdzKik0QOpm0LLjOTRANGjZ8ZxKNEB9aeIwVls0QMZq628PbDRAEGz0rsh8NEBZbf3tgY00QKJuBi07njRA7G8PbPSuNEA1cRirrb80QH5yIepm0DRAyHMqKSDhNEARdTNo2fE0QFp2PKeSAjVApHdF5ksTNUDteE4lBSQ1QDZ6V2S+NDVAgHtgo3dFNUDJfGniMFY1QBJ+ciHqZjVAXH97YKN3NUClgISfXIg1QO6Bjd4VmTVAOIOWHc+pNUCBhJ9ciLo1QMqFqJtByzVAFIex2vrbNUBdiLoZtOw1QKaJw1ht\u002fTVA8IrMlyYONkA5jNXW3x42QIKN3hWZLzZAzI7nVFJANkAVkPCTC1E2QF6R+dLEYTZAqJICEn5yNkDxkwtRN4M2QDqVFJDwkzZAhJYdz6mkNkDNlyYOY7U2QBaZL00cxjZAYJo4jNXWNkCpm0HLjuc2QPKcSgpI+DZAPJ5TSQEJN0CEn1yIuhk3QM6gZcdzKjdAGKJuBi07N0Bgo3dF5ks3QKqkgISfXDdA9KWJw1htN0A8p5ICEn43QIaom0HLjjdA0KmkgISfN0AYq62\u002fPbA3QGKstv72wDdArK2\u002fPbDRN0D0rsh8aeI3QD6w0bsi8zdAiLHa+tsDOEDQsuM5lRQ4QBq07HhOJThAZLX1twc2OECstv72wEY4QPa3BzZ6VzhAP7kQdTNoOECIuhm07Hg4QNK7IvOliThAG70rMl+aOEBkvjRxGKs4QK6\u002fPbDRuzhA98BG74rMOEBAwk8uRN04QIrDWG397ThA08RhrLb+OEAcxmrrbw85QGbHcyopIDlAr8h8aeIwOUD4yYWom0E5QELLjudUUjlAi8yXJg5jOUDUzaBlx3M5QB7PqaSAhDlAZ9Cy4zmVOUCw0bsi86U5QPrSxGGstjlAQ9TNoGXHOUCM1dbfHtg5QNbW3x7Y6DlAH9joXZH5OUBo2fGcSgo6QLLa+tsDGzpA+9sDG70rOkBE3Qxadjw6QI7eFZkvTTpA198e2OhdOkAg4ScXom46QGriMFZbfzpAs+M5lRSQOkD85ELUzaA6QEbmSxOHsTpAj+dUUkDCOkDY6F2R+dI6QCLqZtCy4zpAa+tvD2z0OkC07HhOJQU7QP7tgY3eFTtAR++KzJcmO0CQ8JMLUTc7QNrxnEoKSDtAI\u002fOlicNYO0Bs9K7IfGk7QLb1twc2ejtA\u002f\u002fbARu+KO0BI+MmFqJs7QJL50sRhrDtA2\u002frbAxu9O0Ak\u002fORC1M07QG797YGN3jtAt\u002f72wEbvO0AAAAAAAAA8QA=="},"y":{"dtype":"f8","bdata":"XCsrHMFkpj8UxCYcssimP3KGFltaK6c\u002fAAOK5KOMpz8OB9CmeeynP1zd4oLHSqg\u002fHDN6W3qnqD9KAjEjgAKpPyH8runHW6k\u002fkyHG50GzqT9XgHaK3wiqP0dqy3yTXKo\u002fGOyGsFGuqj9JyZFlD\u002f6qP8TRJzDDS6s\u002fRP65\u002fWSXqz85Y4EY7uCrP6yxvylZKKw\u002fQqmrOqJtrD\u002fbigm0xrCsP7BFcVzF8aw\u002f475FVZ4wrT\u002fuMmIWU22tP6lFhGjmp60\u002f9N96XlzgrT8JdiNNuhauP\u002fi8QMIGS64\u002fqi83ekl9rj\u002f2CL1Ui62uP3uIjEjW264\u002flm8oVjUIrz\u002fdo8N5tDKvP1fKXZxgW68\u002fz3gnhEeCrz8fSkHEd6evP+K06asAy68\u002fZfktNfLsrz9Vapl5rgawP\u002f7wFAApFrA\u002fMVmEdfEksD\u002flUYvSEDOwP0MzszeQQLA\u002f6PQn5HhNsD9Qi38s1FmwP3WqlXGrZbA\u002fwqmFFwhxsD8p98t883uwP1MumPF2hrA\u002f3oRYr5uQsD\u002fczobQapqwP6rovkjto7A\u002fddMl3SutsD9eTCgdL7awP3QYl1v\u002fvrA\u002f+a0mqKTHsD93S1fJJtCwP13yyTaN2LA\u002fVRwGFN\u002fgsD+EYrMrI+mwP\u002fOrSetf8bA\u002fzdY5X5v5sD9hLpAv2wGxPxpgEZ0kCrE\u002fGgPSfnwSsT\u002frK0hA5xqxP23t1d9oI7E\u002fHhbL7QQssT9s6tuLvjSxP\u002fQUCm2YPbE\u002f+oP81ZRGsT98cMKdtU+xP1FY\u002fS78WLE\u002feEltiWlisT8eetpD\u002fmuxP9jOVo66dbE\u002fTaDRNJ5\u002fsT8FyvehqImxPzDPWeLYk7E\u002fkK7Rpy2esT\u002fS1SFNpaixP7KFxtk9s7E\u002fgePyBfW9sT+g6rI+yMixP4FwK6q007E\u002fgHfxK7fesT+MIXJpzOmxP+ywZM7w9LE\u002fAy1AkSAAsj9bca63VwuyP3em9hqSFrI\u002fVGVZbMshsj8qEFk5\u002fyyyP3876e8oOLI\u002fPVqA4kNDsj\u002fdPAdMS06yP0dXolM6WbI\u002faShREAxksj\u002f2imCMu26yP8YlrchDebI\u002fXKSzv5+Dsj\u002fv02xoyo2yP5A19Li+l7I\u002fewv4qHehsj9fW\u002fIz8KqyP8DSKlsjtLI\u002freqBJwy9sj8vFgarpcWyP3QwVALrzbI\u002fU8XEVdfVsj\u002fwLmjaZd2yPyve09KR5LI\u002fK3fDj1brsj\u002fouJBwr\u002fGyPyxsheOX97I\u002fRtQKZgv9sj9ZUbqEBQKzPwMRU9uBBrM\u002fcs6YFHwKsz\u002fHvR\u002fq7w2zP\u002ffQCSTZELM\u002fBo25mDMTsz9kpn4s+xSzP7SRQNErFrM\u002ftCQrhsEWsz\u002fnR2FXuBazPy2XuV0MFrM\u002f7aSIvrkUsz\u002fwYHyrvBKzP7rri2IRELM\u002fhd\u002f+LbQMsz8M045koQizP2GQpWnVA7M\u002fFyu6rUz+sj\u002f7zs6uA\u002fiyP+XKEPn28LI\u002flgOcJyPpsj8BoWLlhOCyP0ZuOe4Y17I\u002fKAoJENzMsj\u002faqyMsy8GyP3HnvjjjtbI\u002foYaQQiGpsj8ANo1ugpuyP012x\u002fsDjbI\u002frvNsRaN9sj\u002fKG+DEXW2yPy6H6xMxXLI\u002fJIsM7xpKsj8ND9I3GTeyP4eMTPcpI7I\u002fRvOLYEsOsj+\u002fASjTe\u002fixP26Cz9254bE\u002fXcLaQATKsT\u002f3gN3wWbGxP3uLNBm6l7E\u002fhC6LHiR9sT\u002fpplShl2GxP1bANYAURbE\u002fqNpa2ponsT\u002fGn7YRKwmxPyHKJc3F6bA\u002fFXd0+mvJsD\u002fhoEHQHqiwP9+Avc\u002ffhbA\u002fqcM\u002fxrBisD8CprLOkz6wP7RB0FKLGbA\u002fnAtfGDTnrz\u002f2Fj0KhpmvP9hkkDITSq8\u002fW1RG7OL4rj8DllE2\u002faWuP4W9pLNqUa4\u002fQnO3qjT7rT\u002fEhJQEZaOtP4uUb0sGSq0\u002fuqrBqCPvrD89aOziyJKsPwwfZFoCNaw\u002fg5BhBt3Vqz+WjxxxZnWrP25AkbOsE6s\u002fPifScL6wqj8NrenQqkyqPyY1TnuB56k\u002fFEvskFKBqT833cqlLhqpP87eTbomsqg\u002fQw4cNExJqD\u002fP+qzWsN+nPzi9hLtmdac\u002fpisjSoAKpz+4nawvEJ+mPxegUlYpM6Y\u002fsziD3N7GpT8xmeULRFqlP+pUK1Bs7aQ\u002fZ169LWuApD+bOUw4VBOkPw=="},"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"title":{"text":"Density of age"},"xaxis":{"title":{"text":"Age"}},"yaxis":{"title":{"text":"Density"}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('8727c745-2a0a-4f07-abe0-60d797abb6fc');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
</section>
<section id="exploring-variable-relationships-in-python" class="level2">
<h2 class="anchored" data-anchor-id="exploring-variable-relationships-in-python">Exploring Variable Relationships in Python</h2>
<p>The graphic analysis is a tool to understand the relationship between the covariates and the response variable. It is very important when we want to perform a linear regression.</p>
<div id="cc2c52da" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.api <span class="im">import</span> OLS, add_constant</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the dataset</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'data/Multiple_Regression_Dataset.csv'</span>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">R</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">S</th>
<th data-quarto-table-cell-role="th">Ed</th>
<th data-quarto-table-cell-role="th">Ex0</th>
<th data-quarto-table-cell-role="th">Ex1</th>
<th data-quarto-table-cell-role="th">LF</th>
<th data-quarto-table-cell-role="th">M</th>
<th data-quarto-table-cell-role="th">N</th>
<th data-quarto-table-cell-role="th">NW</th>
<th data-quarto-table-cell-role="th">U1</th>
<th data-quarto-table-cell-role="th">U2</th>
<th data-quarto-table-cell-role="th">W</th>
<th data-quarto-table-cell-role="th">X</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>79.1</td>
<td>151</td>
<td>1</td>
<td>91</td>
<td>58</td>
<td>56</td>
<td>510</td>
<td>950</td>
<td>33</td>
<td>301</td>
<td>108</td>
<td>41</td>
<td>394</td>
<td>261</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>163.5</td>
<td>143</td>
<td>0</td>
<td>113</td>
<td>103</td>
<td>95</td>
<td>583</td>
<td>1012</td>
<td>13</td>
<td>102</td>
<td>96</td>
<td>36</td>
<td>557</td>
<td>194</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>57.8</td>
<td>142</td>
<td>1</td>
<td>89</td>
<td>45</td>
<td>44</td>
<td>533</td>
<td>969</td>
<td>18</td>
<td>219</td>
<td>94</td>
<td>33</td>
<td>318</td>
<td>250</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>196.9</td>
<td>136</td>
<td>0</td>
<td>121</td>
<td>149</td>
<td>141</td>
<td>577</td>
<td>994</td>
<td>157</td>
<td>80</td>
<td>102</td>
<td>39</td>
<td>673</td>
<td>167</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>123.4</td>
<td>141</td>
<td>0</td>
<td>121</td>
<td>109</td>
<td>101</td>
<td>591</td>
<td>985</td>
<td>18</td>
<td>30</td>
<td>91</td>
<td>20</td>
<td>578</td>
<td>174</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="ab2c634e" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new figure</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract response variable and covariates</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> <span class="st">'R'</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>covariates <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> df.columns <span class="cf">if</span> col <span class="op">!=</span> response]</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">4</span>, ncols<span class="op">=</span><span class="dv">4</span>, figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">5</span>), sharex<span class="op">=</span><span class="va">False</span>, sharey<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>axes <span class="op">=</span> axes.flatten()</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot boxplot for binary variable 'S'</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>sns.boxplot(data<span class="op">=</span>df, x<span class="op">=</span><span class="st">'S'</span>, y<span class="op">=</span><span class="st">'R'</span>, ax<span class="op">=</span>axes[<span class="dv">0</span>])</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_title(<span class="st">'Boxplot of R by S'</span>)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_xlabel(<span class="st">'S'</span>)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_ylabel(<span class="st">'R'</span>)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot regression lines for all other covariates</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>plot_index <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> cov <span class="kw">in</span> covariates:</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> cov <span class="op">!=</span> <span class="st">'S'</span>:</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>        sns.regplot(data<span class="op">=</span>df, x<span class="op">=</span>cov, y<span class="op">=</span><span class="st">'R'</span>, ax<span class="op">=</span>axes[plot_index], scatter<span class="op">=</span><span class="va">True</span>, line_kws<span class="op">=</span>{<span class="st">"color"</span>: <span class="st">"red"</span>})</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>        axes[plot_index].set_title(<span class="ss">f'</span><span class="sc">{</span>cov<span class="sc">}</span><span class="ss"> vs R'</span>)</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>        axes[plot_index].set_xlabel(cov)</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>        axes[plot_index].set_ylabel(<span class="st">'R'</span>)</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>        plot_index <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Hide unused subplots</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(plot_index, <span class="bu">len</span>(axes)):</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>    fig.delaxes(axes[i])</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>fig.tight_layout()</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_gdr_files/figure-html/cell-8-output-1.png" width="472" height="470" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="spearman-correlation-matrix" class="level1">
<h1>Spearman Correlation Matrix</h1>
<div id="7968448a" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate Spearman correlation matrix</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>spearman_corr <span class="op">=</span> df.corr(method<span class="op">=</span><span class="st">'spearman'</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">10</span>))</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>sns.heatmap(spearman_corr, annot<span class="op">=</span><span class="va">True</span>, cmap<span class="op">=</span><span class="st">"coolwarm"</span>, fmt<span class="op">=</span><span class="st">".2f"</span>, linewidths<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Correlation Matrix Heatmap"</span>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_gdr_files/figure-html/cell-9-output-1.png" width="888" height="801" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<section id="when-several-variables-are-correlated" class="level2">
<h2 class="anchored" data-anchor-id="when-several-variables-are-correlated">When several variables are correlated</h2>
<p>When several variables are correlated with each other, we keep only one of them. The one the most correlated with the response variable.</p>
<div id="e1d56ff1" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Correlation of each variable with response R</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>spearman_corr_with_R <span class="op">=</span> spearman_corr[<span class="st">'R'</span>].drop(<span class="st">'R'</span>)  <span class="co"># exclude R-R</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Identify pairs of covariates with strong inter-correlation (e.g., &gt; 0.9)</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>strong_pairs <span class="op">=</span> []</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>threshold <span class="op">=</span> <span class="fl">0.6</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>covariates <span class="op">=</span> spearman_corr_with_R.index</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, var1 <span class="kw">in</span> <span class="bu">enumerate</span>(covariates):</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> var2 <span class="kw">in</span> covariates[i<span class="op">+</span><span class="dv">1</span>:]:</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">abs</span>(spearman_corr.loc[var1, var2]) <span class="op">&gt;</span> threshold:</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>            strong_pairs.append((var1, var2))</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 4: From each correlated pair, keep only the variable most correlated with R</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>to_keep <span class="op">=</span> <span class="bu">set</span>()</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>to_discard <span class="op">=</span> <span class="bu">set</span>()</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> var1, var2 <span class="kw">in</span> strong_pairs:</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">abs</span>(spearman_corr_with_R[var1]) <span class="op">&gt;=</span> <span class="bu">abs</span>(spearman_corr_with_R[var2]):</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>        to_keep.add(var1)</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>        to_discard.add(var2)</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>        to_keep.add(var2)</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>        to_discard.add(var1)</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Final selection: all covariates excluding the ones to discard due to redundancy</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>final_selected_variables <span class="op">=</span> [var <span class="cf">for</span> var <span class="kw">in</span> covariates <span class="cf">if</span> var <span class="kw">not</span> <span class="kw">in</span> to_discard]</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>final_selected_variables</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<pre><code>['Ex1', 'LF', 'M', 'N', 'NW', 'U2']</code></pre>
</div>
</div>
</section>
</section>
<section id="variance-inflation-factor-vif-for-selected-variables-after-standardization" class="level1">
<h1>Variance Inflation Factor (VIF) for selected variables after standardization</h1>
<div id="60ba31ae" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.stats.outliers_influence <span class="im">import</span> variance_inflation_factor</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.tools.tools <span class="im">import</span> add_constant</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> df[final_selected_variables]  </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>X_with_const <span class="op">=</span> add_constant(X)  </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>vif_data <span class="op">=</span> pd.DataFrame()</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>vif_data[<span class="st">"variable"</span>] <span class="op">=</span> X_with_const.columns</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>vif_data[<span class="st">"VIF"</span>] <span class="op">=</span> [variance_inflation_factor(X_with_const.values, i)</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>                   <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(X_with_const.shape[<span class="dv">1</span>])]</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>vif_data <span class="op">=</span> vif_data[vif_data[<span class="st">"variable"</span>] <span class="op">!=</span> <span class="st">"const"</span>]</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(vif_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  variable       VIF
1      Ex1  1.586841
2       LF  2.006338
3        M  2.042110
4        N  2.018055
5       NW  1.242898
6       U2  1.536967</code></pre>
</div>
</div>
<section id="fit-a-linear-regression-model-on-a-six-variables-after-standardization-not-split-data-into-train-and-test" class="level2">
<h2 class="anchored" data-anchor-id="fit-a-linear-regression-model-on-a-six-variables-after-standardization-not-split-data-into-train-and-test">Fit a linear regression model on a six variables after standardization not split data into train and test</h2>
<div id="2663d591" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Variables</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> df[final_selected_variables]</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> df[<span class="st">'R'</span>]</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardisation des variables explicatives</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>scaler <span class="op">=</span> StandardScaler()</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>X_scaled_vars <span class="op">=</span> scaler.fit_transform(X)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co"># ➕ Remettre les noms des colonnes (après standardisation)</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>X_scaled_df <span class="op">=</span> pd.DataFrame(X_scaled_vars, columns<span class="op">=</span>final_selected_variables)</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="co"># ➕ Ajouter l'intercept (constante)</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>X_scaled_df <span class="op">=</span> add_constant(X_scaled_df)</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Régression avec noms conservés</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> OLS(y, X_scaled_df).fit()</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model.summary())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                      R   R-squared:                       0.568
Model:                            OLS   Adj. R-squared:                  0.503
Method:                 Least Squares   F-statistic:                     8.773
Date:                Sat, 31 May 2025   Prob (F-statistic):           4.07e-06
Time:                        16:51:47   Log-Likelihood:                -218.24
No. Observations:                  47   AIC:                             450.5
Df Residuals:                      40   BIC:                             463.4
Df Model:                           6                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------
const         90.5085      3.975     22.767      0.000      82.474      98.543
Ex1           25.3077      5.008      5.054      0.000      15.187      35.429
LF             4.9155      5.631      0.873      0.388      -6.465      16.296
M              9.9027      5.681      1.743      0.089      -1.579      21.384
N              2.6733      5.647      0.473      0.639      -8.741      14.087
NW            11.1950      4.432      2.526      0.016       2.238      20.152
U2             3.1268      4.928      0.634      0.529      -6.834      13.088
==============================================================================
Omnibus:                        1.619   Durbin-Watson:                   2.089
Prob(Omnibus):                  0.445   Jarque-Bera (JB):                1.126
Skew:                           0.045   Prob(JB):                        0.569
Kurtosis:                       2.247   Cond. No.                         3.06
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</code></pre>
</div>
</div>
</section>
<section id="dont-trust-chatgpt" class="level2">
<h2 class="anchored" data-anchor-id="dont-trust-chatgpt">Don’t Trust ChatGPT</h2>
<p>Each year, we see rapid advancements in artificial language tools, especially from companies like OpenAI. These models are evolving fast. Today, we can generate images with ease, solve complex problems in computer science, mathematics, physics, and more. But can we really trust these tools?</p>
<p>I don’t think so.</p>
<p>Today, I was writing an article about <em>regression to the mean</em>. The equation is given by:</p>
<blockquote class="blockquote">
<p><span class="math inline">\(\mathbb{E}(Y|X) = \alpha + \beta X\)</span></p>
</blockquote>
<p>My goal was to explain the meaning of the regression coefficient and offer an intuitive technique to predict the value of <span class="math inline">\(Y\)</span> given a value of <span class="math inline">\(X\)</span>. I assumed that the variances of <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> were both equal to one, and that <span class="math inline">\(X\)</span> was centered (i.e., had mean zero). I then stated that under these conditions, the slope <span class="math inline">\(\beta\)</span> is equal to the correlation between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>.</p>
<p>But ChatGPT told me this was incorrect. It insisted that this only holds true if <span class="math inline">\(Y\)</span> is also centered.</p>
<p>Yet, we know that if both <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are scaled to have unit variance, then the slope of the regression is indeed equal to the correlation between them—even if <span class="math inline">\(Y\)</span> is not centered. That’s a basic identity in linear regression under standardized variables.</p>
<p>So while these AI tools can be helpful, they’re not always right. You still need to think critically, check the math, and trust your own understanding.</p>
<div class="byline">
<p><span class="date">May 11, 2025</span></p>
</div>
</section>
<section id="sports-bring-us-together" class="level2">
<h2 class="anchored" data-anchor-id="sports-bring-us-together">Sports Bring Us Together</h2>
<p>Today, like most days, I went for a run and stopped at the park to do some exercises—push-ups, a few pull-ups, and some jump rope.</p>
<p>Every time, I find it amazing. I meet people from all walks of life—different backgrounds, all genders, all ages. Some look wealthy, others look like they’re struggling. Some seem strong and healthy, others clearly carry the weight of illness. There are professionals and amateurs. Some are trying sports for the very first time—and probably won’t be back. Others stick with it for a while before giving up. And then, of course, there are the regulars who keep showing up.</p>
<p>But what stays constant is the atmosphere. It’s always welcoming. When you greet someone, they greet you back—with kindness. That simple act of saying hello when you arrive creates a sense of safety. You never know what might happen out there, but that greeting—it’s a small sign of trust, of connection. It reminds me of Marcel Mauss’s idea of the gift and counter-gift: you offer a smile, and in return, you receive not just a smile, but a sense of protection.</p>
<div class="byline">
<p><span class="date">May 11, 2025</span></p>
</div>
</section>
<section id="why-certain-couples-marry-and-others-do-not" class="level2">
<h2 class="anchored" data-anchor-id="why-certain-couples-marry-and-others-do-not">Why certain couples marry and others do not?</h2>
<p>Today, saturday, May 10 2025, I attended the wedding of a friend–a girl I met in high school. We were in the same grade from ninth grade all the way through senior year.</p>
<p>She was smart, almost among the top students in our class. She was attentive, displined, serious and hardworking. She rarely laughted out loud, but she always had a warm smile. Given her academic achievements and her work ethic, I expected her to pursue advanced studies and build a successful career. And that’s exactly what happened–she went on to study at ENSAE, one of the most prestigious schools in France, and she is now an actuary.</p>
<p>Now she is married too, and I hope she will find the same success in her marriage as she did in her studies and career. But this made me wonder: why do some people marry and others do not? What are the factors that influence the decision to marry?</p>
<p>At her wedding, I began to reflect on this question using the story of my friend as a starting point. First, she and her husband come from similar social backgrounds—which I believe played a stabilizing role in their relationship.</p>
<p>Then, there was distance. After her master’s, she earned a scholarship to continue her studies at ENSAE and moved to Paris, while her husband remained in Cameroon. They had to maintain a long-distance relationship for two years and waited until the third year to get married. Despite the distance, they managed to stay connected and committed.</p>
<p>Lastly, their social circle made a real difference. The groom repeatedly thanked his friends during the ceremony for supporting their relationship. He said they reassured his bride during moments of doubt and helped keep them grounded and hopeful.</p>
<p>By the end of the ceremony, I had identified three key factors that seemed to have supported their union: shared social status, the ability to overcome physical distance, and the strength of their support network. I believe there are many other factors yet to discover, and I’m curious to explore what else might influence the decision to marry.</p>
<div class="byline">
<p><span class="date">May 10, 2025</span></p>
</div>
</section>
<section id="regression-to-the-mean" class="level2">
<h2 class="anchored" data-anchor-id="regression-to-the-mean">Regression to the mean</h2>
<p>Regression to the mean was discovered and named by Sir Francis Galton in the 19th century. It refers to the phenomenon where extreme observations tend to be followed by more moderate ones, and moving closer to the average.</p>
<p>This concept is often misunderstood, and interpreted in terms of causality. Take this proposition: &gt; “Highly intelligent women tend to marry men who are less intelligent than they are.” What is the explanation?</p>
<p>Some may think of highly intelligent women wanting to avoid the competition equally intelligent men, or being forced to compromise in their choice of partner because intelligent men do not want to compete with intelligent women. This explanation is wrong.</p>
<p>The correlation between the intelligence scores of spouces is less than perfect. If the correlation between the intelligence scores of spouses is not perfect( and if men and women on average do not differ in intelligence), then it is mathematically inevitable that the higly intelligent women will be married to men who are on overage less intelligent than they are.</p>
<div class="byline">
<p><span class="date">May 9, 2025</span></p>
</div>
</section>
<section id="should-you-invest-save-or-keep-your-money-under-the-mattress" class="level2">
<h2 class="anchored" data-anchor-id="should-you-invest-save-or-keep-your-money-under-the-mattress">Should You Invest, Save, or Keep Your Money Under the Mattress?</h2>
<p>A quick read of the bible can help you to answer this question. I recommend reading Mathieu 25:14, the parable of the servants and the master’s reward.</p>
<p>In this parable, a master gives three servants different amounts of money to manage during his absence. The first servant receives five talents, the second two talents, and the third one talent. The first two servants invest their money and double it, while the third servant hides his talent in the ground.</p>
<p>When the master returned from his journey, the first two servants presented their profits. The master was proud of them and rewarded them. But the third servant explained he knew that his master was hard and demanding. Because he was afraid of losing the money, he hid the talent in the ground. The master was angry and disappointed, and he took the talent. He told him that if he was so afraid, the least he could have done was put the money in a bank to earn interest.</p>
<p>This parable teaches us that the most important to get money is to invest it wisely. If you are afraid of losing your money, you should at least put it in a bank to earn interest. Keep money under a pillow is not a good idea, and should be used as the last resort.</p>
<div class="byline">
<p><span class="date">May 8, 2025</span></p>
</div>
</section>
<section id="how-can-we-choose-to-modeling-time-series-using-ardl" class="level2">
<h2 class="anchored" data-anchor-id="how-can-we-choose-to-modeling-time-series-using-ardl">How can we choose to modeling time series using ARDL?</h2>
<p>What ultimately determines the choice of a model is the data. This assumes that we’ve already carried out a preliminary analysis to understand the nature of the risk, define its scope, and identify the relevant risk factors.</p>
<p>That’s why it’s misguided to say, for example, that we should—or should not—use an ARDL model to analyze a time series. What truly matters is ensuring that the residuals of the model are not autocorrelated.</p>
<div class="byline">
<p><span class="date">May 7, 2025</span></p>
</div>
</section>
<section id="what-drives-stock-prices" class="level2">
<h2 class="anchored" data-anchor-id="what-drives-stock-prices">What drives stock prices?</h2>
<p>It’s been about a week since I invested in Eutelsat stock at €3.59 through my PEA (Plan d’Épargne en Actions). When I woke up on Monday, May 5th, I was surprised to see that the stock had jumped to €4.20. Suddenly, it started dropping, and I was tempted to sell. Fortunately, I didn’t—because by the end of the day, the stock had climbed to over €4.65.</p>
<p>That’s a 29.5% increase relative to my investment:</p>
<p><span class="math display">\[
\frac{4.65 - 3.59}{3.59} \times 100 ≈ 29.5\%
\]</span></p>
<p>Naturally, I started wondering what could have caused such a sharp rise. I looked it up on Google and checked the news on TV—but found nothing.</p>
<p>Later that afternoon—maybe by chance, maybe because I had been actively searching—I stumbled upon an article in <em>Les Échos</em>. It mentioned that Eutelsat’s CEO, Eva Berneke, had been replaced by Jean-François Fallacher, the former CEO of Orange.</p>
<p>That was likely one reason for the stock’s spike. Another possible explanation is the French government’s involvement with the company. In the context of European and French national defense, Eutelsat is seen as a strategic alternative to Starlink, SpaceX’s satellite internet service.</p>
<p>It’s incredibly hard to predict stock prices.</p>
<p>On a similar note, I also noticed that oil prices had dropped recently. And again, there’s a potential explanation: the number of oil producers within OPEC has increased by three. This rise in oil production leads to a greater supply, which in turn explains the drop in oil prices.</p>
<div class="byline">
<p><span class="date">May 6, 2025</span></p>
</div>
</section>
<section id="we-are-champions-the-champions-the-first-trophy-of-harry-kane-in-his-career." class="level2">
<h2 class="anchored" data-anchor-id="we-are-champions-the-champions-the-first-trophy-of-harry-kane-in-his-career.">We are champions the champions : The first trophy of Harry Kane in his career.</h2>
<p>Yesterday, after Bayer Leverkusen’s draw, Bayern Munich officially clinched the Bundesliga title. This marks the very first trophy of Harry Kane’s career.</p>
<p>One question comes to mind: Is this title more meaningful to Harry Kane than it is to other Bayern players like Thomas Müller or Manuel Neuer, who’ve already won countless trophies?I want to take it even further: Is Kane happier about this title than a die-hard Bayern Munich fan might be? To answer those questions properly, we’d have to consider several factors—but let me just share my opinion.</p>
<p>It’s true that after a long, demanding season, winning a title is always a great source of satisfaction for any player. But for a club like Bayern Munich, winning the Bundesliga is important, yes—but it’s also expected. The fans and the club’s leadership invest a lot of money in top-tier talent to win the Champions League. So when you’re a Bayern player, lifting the Bundesliga trophy isn’t enough—you need to win the Champions League to feel truly fulfilled.</p>
<p>Now, for someone like Harry Kane, who’s never won a single trophy in his career and who’s been through a lot of disappointment and heartbreak—with Tottenham and even with England—this title must feel incredibly rewarding. Let’s not forget: he lost the Champions League final in 2019 with Tottenham against Liverpool, and the Euro 2020 final with England against Italy. People even started saying he was cursed. Let’s hope he fully enjoys this title—and that it’s just the beginning of many more to come with Bayern Munich.</p>
<div class="byline">
<p><span class="date">May 5, 2025</span></p>
</div>
</section>
<section id="warren-buffett-retires-at-94" class="level2">
<h2 class="anchored" data-anchor-id="warren-buffett-retires-at-94">Warren Buffett retires at 94</h2>
<p>The most famous investor in the world, Warren Buffett, has announced his retirement at the age of 94 in the end of the year. He has announced this decision during the annual meeting of Berkshire Hathaway, the company he founded in 1965.</p>
<p>What explains his success? He is known for his long-term investment strategy, which focuses on buying and holding quality companies. He has also been a strong advocate of value investing, which involves looking for undervalued stocks with strong fundamentals.</p>
<p>Do all these elements fully explain his success? I don’t think so. To explain his success, we also need to take luck into account. He wrote a book, and many others have written about him. But not many people have achieved the kind of success he has. That’s why I want to propose a model to predict Warren Buffett’s success, which will be formulated as follows:</p>
<p>Success = f(strategy, long-term investment, value investing, …) + luck</p>
<div class="byline">
<p><span class="date">May 4, 2025</span></p>
</div>
</section>
<section id="diagnostic-de-performance-énergétique-dpe" class="level2">
<h2 class="anchored" data-anchor-id="diagnostic-de-performance-énergétique-dpe">Diagnostic de performance énergétique (DPE)</h2>
<p>Le DPE renseigne sur les performances énergétiques et environnementales d’un logement et d’un bâtiment, en évaluant ses émissions de gaz à effet de serre (GHG).</p>
<p>Le DPE contient les informations suivantes : - Les informations sur les caractéristiques du bâtiment telles que la surface, les orientations, les mûrs, les fenêtres, les matériaux, etc. - Les informations sur les équipements du logement tels que le chauffage, la climatisation, l’eau chaude sanitaire, la ventilation, etc.</p>
<p>Le contenu et les modalités du DPE sont réglementés. Ainsi, les données sur les DPE peuvent être utilisées comme facteur de risque ESG (environnemental, social et de gouvernance).</p>
<p>Pour plus d’informations, veuillez consulter le site de l’ademe <a href="https://data.ademe.fr/">ici</a></p>
<div class="byline">
<p><span class="date">May 3, 2025</span></p>
</div>
</section>
<section id="aimé-césaire-inspired-by-the-bible" class="level2">
<h2 class="anchored" data-anchor-id="aimé-césaire-inspired-by-the-bible">Aimé Césaire inspired by the Bible</h2>
<p>When we take time to reflect on the condition of the oppressed, the poor, and the suffering, we see that the Bible has inspired many well-known writers—among them, Aimé Césaire.</p>
<p>In Proverbs 31:8–9, it is written: “Speak up for those who cannot speak for themselves, for the rights of all who are abandoned.Speak up and judge fairly; defend the rights of the poor and needy.”</p>
<p>With this in mind, we can believe that Aimé Césaire—a powerful French poet—was deeply influenced by this text when he wrote: “My mouth will be the mouth of those who have no mouth, my voice, the freedom of those who sink into the dungeons of despair.”</p>
<div class="byline">
<p><span class="date">May 2, 2025</span></p>
</div>
</section>
<section id="la-clé-lamine-yamal" class="level2">
<h2 class="anchored" data-anchor-id="la-clé-lamine-yamal">La clé Lamine Yamal</h2>
<p>Hier soir, le barça affrontait l’Inter Milan dans le cadre du match aller de la demi-finale de la Ligue des champions. Ce match opposait la meilleure attaque de la compétition, le barça, à la meilleure défense, l’Inter Milan. On s’attendait donc à un match difficile et fermé avec peu de buts. Cependant, on a assisté à spectable incroyable, magnifique et inoubliable.</p>
<p>L’Inter Milan a ouvert le score grâce à un but superbe de Marcus Thuram au tout début du match. L’inter de Milan a même doublé la mise grâce à un but de Dunfries. On s’est dit en ce moment que c’est fini pour le barça. L’Inter Milan a commencé à défendre, à mettre le bus. Mais il a fallu que Yamal trouve la clé pour ouvrir le cadenas mis en place par l’Inter.</p>
<p>Après avoir effacé Henrikh Mkhitaryan avec une facilité déconcertante, le joyau de la Masia a fixé Alessandro Bastoni puis décoché un remarquable tir du pied gauche qui est aller fracasser le poteau droit de Yann Sommer avant de franchir la ligne. On a vu en lui du Ronaldinho, du Neymar et même du Messi. On se pose même la question de savoir si c’est le nouveau Messi du Barça. Ce qui est sûr, c’est que Lamine Yamal est un génie, comme l’a dit son entraîneur, ancien entraîneur du Bayern Munich, Hans-Dieter Flick.</p>
<p>Il est difficile de croire mais cet enfant sort de l’adolescence, mais il a une grande maturité. Il n’a que 17 ans et ce match est son 100e match avec le Barça. Il est le plus jeune joueur de l’histoire a avoir marqué en demi-finale de la Ligue des champions, dépassant ainsi le record d’un certain Kylian Mbappé.</p>
<p>Grâce à lui, le Barça a pu arracher un match nul 3-3. Nous sommes impatients de voir Yamal briller lors du match retour à Milan.</p>
</section>
<section id="le-livre-des-réponses" class="level2">
<h2 class="anchored" data-anchor-id="le-livre-des-réponses">Le livre des réponses</h2>
<p>J’adore la bible parce que tu peux y trouver des réponses à toutes tes questions. Par exemple, si tu est quelqu’un qui travaille beaucoup et dort peu, si ton entourage te dit qu’il faut dormir, que le sommeil est réparateur. Si tu es fatigué par eux, tu peux leur répondre que d’après Proverbes 20:13, “N’aime pas le sommeil, tu risquerais de t’appauvrir. Garde les yeux ouverts et tu seras rassasié de pain.”</p>
<p>Lire la bible, notamment le livre des proverbes ou de l’Ecclésiaste, écrit par Salomon, te donnera de l’intelligence et de la sagesse.</p>
</section>
<section id="categories" class="level2">
<h2 class="anchored" data-anchor-id="categories">Categories</h2>
<p>How tall is Junior? If Junior is 1.5m. Your answer is a function of his age. He is very tall if I tell you that he is 6 years old. Very short if he is 20 years old. Your brain automatically returns the relevant norm, which allows you to make a quick decision.</p>
<p>We are also able to match intensity across categories and answer the question: “How expensive is a restaurant that matches Junior’s height?”</p>
<p>Our world is broken into categories for which we have a norm. And those norms allow us to make quick decisions.</p>
</section>
<section id="what-evokes-you-the-100-days-of-donald-trump" class="level2">
<h2 class="anchored" data-anchor-id="what-evokes-you-the-100-days-of-donald-trump">What evokes you the 100 days of Donald Trump?</h2>
<p>Even if Trump sticks to his program, the first 100 days have nonetheless been marked by a major disruption in the global economy, which has had a negative impact on various markets, including Wall Street, the European market, and the Asian market.</p>
<p>Furthermore, we were shocked by his stances on the war in Ukraine, his attack on the Chairman of the Federal Reserve, Jerome Powell, as well as the increase in tariffs — especially in the context of the trade war with China.</p>
<div class="byline">
<p><span class="date">May 1, 2025</span></p>
</div>
</section>
<section id="la-puissance-de-la-parole." class="level2">
<h2 class="anchored" data-anchor-id="la-puissance-de-la-parole.">La puissance de la parole.</h2>
<p>La bible met en évidence la puissance de la parole. Par la parole, Dieu à créé le monde. Pour des non croyants, ceci peut être ridicule. Je pense qu’ils conviennent avec moi que ceux qui maitrisent la parole ont un pouvoir. Ils peuvent séduire, enchanter, persuader, parfois ils peuvent même manipuler.</p>
<p>Dans la bible, notamment dans prophète, l’auteur préconise l’usage adéquat de la parole. Il dit que la langue, qui permet de parler, a un pouvoir de vie et de mort; ceux qui aiment parler en goûteront les fruits. Ensuite, il conseille de refléchir avant de parler. Celui qui répond avant d’avoir écouté fait preuve de folie et se couvre de honte.</p>
<p>Plusieurs écrivaints ont souligné cette importance de la parole, notamment les mots. Jean Paul Sartre, un écrivain français, disait que “Les mots sont des pistolets chargés.”</p>
<div class="byline">
<p><span class="date">April 30, 2025</span></p>
</div>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/Jumbong\.github\.io\/personal-website\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>